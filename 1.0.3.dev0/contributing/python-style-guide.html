<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python Style Guide &#8212; NuPIC 1.0.3.dev0

 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.3.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C++ Style Guide" href="cpp-style-guide.html" />
    <link rel="prev" title="Contributing" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="python-style-guide">
<span id="python-style-guide"></span><h1>Python Style Guide<a class="headerlink" href="#python-style-guide" title="Permalink to this headline">¶</a></h1>
<p>This document is a <em>diff</em> - it describes how Numenta&#8217;s Python guidelines differ from or are unspecified by <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP-8</a> and <a class="reference external" href="http://www.python.org/dev/peps/pep-0257/">PEP-257</a>.</p>
<p>It&#8217;s meant to be succinct.  Generally, we wish to remain close to the best practices of the Python community.</p>
<div class="section" id="python-version">
<span id="python-version"></span><h2>Python Version<a class="headerlink" href="#python-version" title="Permalink to this headline">¶</a></h2>
<p>Numenta software requires Python 2.7.</p>
</div>
<div class="section" id="pylint">
<span id="pylint"></span><h2>Pylint<a class="headerlink" href="#pylint" title="Permalink to this headline">¶</a></h2>
<p>The NuPIC installation should put <code class="docutils literal"><span class="pre">pylint</span></code> on your path and you should create a symbolic link at <code class="docutils literal"><span class="pre">~/.pylintrc</span></code> that points to <code class="docutils literal"><span class="pre">$NUPIC/py/pylintrc</span></code>.  The pylint command enforces many of the style guidelines from this document and PEP8.</p>
</div>
<div class="section" id="file-layout">
<span id="file-layout"></span><h2>File Layout<a class="headerlink" href="#file-layout" title="Permalink to this headline">¶</a></h2>
<div class="section" id="executables">
<span id="executables"></span><h3>Executables<a class="headerlink" href="#executables" title="Permalink to this headline">¶</a></h3>
<p>Executables should be specified in the <code class="docutils literal"><span class="pre">setup.py</span></code> as described <a class="reference external" href="http://setuptools.readthedocs.io/en/latest/setuptools.html#automatic-script-creation">here</a>.</p>
</div>
<div class="section" id="legal-notice">
<span id="legal-notice"></span><h3>Legal Notice<a class="headerlink" href="#legal-notice" title="Permalink to this headline">¶</a></h3>
<p>At the top of each source file (after the shebang, if any), include the following legal notice:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># ----------------------------------------------------------------------</span>
<span class="c1"># Numenta Platform for Intelligent Computing (NuPIC)</span>
<span class="c1"># Copyright (C) 2015, Numenta, Inc.  Unless you have an agreement</span>
<span class="c1"># with Numenta, Inc., for a separate license for this software code, the</span>
<span class="c1"># following terms and conditions apply:</span>
<span class="c1">#</span>
<span class="c1"># This program is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU Affero Public License version 3 as</span>
<span class="c1"># published by the Free Software Foundation.</span>
<span class="c1">#</span>
<span class="c1"># This program is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<span class="c1"># See the GNU Affero Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU Affero Public License</span>
<span class="c1"># along with this program.  If not, see http://www.gnu.org/licenses.</span>
<span class="c1">#</span>
<span class="c1"># http://numenta.org/licenses/</span>
<span class="c1"># ----------------------------------------------------------------------</span>
</pre></div>
</div>
<p>In the date, include any years in which the code was modified as either one year or a range, e.g. &#8220;2006-2009&#8221;, &#8220;2010&#8221;.</p>
</div>
<div class="section" id="module-docstring">
<span id="module-docstring"></span><h3>Module Docstring<a class="headerlink" href="#module-docstring" title="Permalink to this headline">¶</a></h3>
<p>After the legal notice, include a docstring to describe the contents of the file.  If the file comprises a single class definition, then make it minimalist &#8211; put your more-detailed documentation in the <em>class&#8217;s</em> docstring.</p>
</div>
<div class="section" id="tests">
<span id="tests"></span><h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h3>
<p>Do not include tests in source files. All tests are in the <a class="reference external" href="https://github.com/numenta/nupic/tree/master/tests"><code class="docutils literal"><span class="pre">/tests</span></code></a> directory.</p>
</div>
</div>
<div class="section" id="coding-style">
<span id="coding-style"></span><h2>Coding Style<a class="headerlink" href="#coding-style" title="Permalink to this headline">¶</a></h2>
<div class="section" id="indentation">
<span id="indentation"></span><h3>Indentation<a class="headerlink" href="#indentation" title="Permalink to this headline">¶</a></h3>
<p>Use two (2) spaces per indentation level.</p>
</div>
<div class="section" id="blank-lines">
<span id="blank-lines"></span><h3>Blank Lines<a class="headerlink" href="#blank-lines" title="Permalink to this headline">¶</a></h3>
<p>Separate top level functions and classes by <strong>three</strong> blank lines. Separate methods inside classes by <strong>two</strong> blank lines. Do not use more than one consecutive blank line in a code block. Files should end with a single newline character (most editors will show this as a blank line but some, such as Vim, will not display it).</p>
</div>
<div class="section" id="imports">
<span id="imports"></span><h3>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h3>
<div class="section" id="try-except">
<span id="try-except"></span><h4>try/except<a class="headerlink" href="#try-except" title="Permalink to this headline">¶</a></h4>
<p>For Numenta-internal code, do not wrap import statements in try-except blocks and attempt to recover dynamically.  (If there&#8217;s an exception, consider that a configuration bug.)</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
  <span class="kn">import</span> <span class="nn">thirdpartymodule</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
  <span class="c1"># Attempt brave recovery</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">thirdpartymodule</span>
</pre></div>
</div>
<p>For code meant to be used externally, brave recoveries are acceptable.</p>
</div>
<div class="section" id="from-statements">
<span id="from-statements"></span><h4>from statements<a class="headerlink" href="#from-statements" title="Permalink to this headline">¶</a></h4>
<p>Multiple imports are okay in a from statement.</p>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">Popen</span><span class="p">,</span> <span class="n">PIPE</span>
</pre></div>
</div>
<p>If there are many, enclose them in parentheses to allow multiple lines.</p>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">my_fancy_module</span> <span class="kn">import</span> <span class="p">(</span><span class="n">myFunc1</span><span class="p">,</span>
                             <span class="n">myFunc2</span><span class="p">,</span>
                             <span class="n">myVeryLongFunc3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="wildcard-imports">
<span id="wildcard-imports"></span><h4>Wildcard imports<a class="headerlink" href="#wildcard-imports" title="Permalink to this headline">¶</a></h4>
<p>Do not use <code class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></code>.  It pollutes the global namespace and makes it difficult to determine where symbols are defined.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="import-grouping">
<span id="import-grouping"></span><h4>Import Grouping<a class="headerlink" href="#import-grouping" title="Permalink to this headline">¶</a></h4>
<p>Imports should be grouped in the following order:</p>
<ol class="simple">
<li>Standard library imports, e.g., libraries that come with Python such as <code class="docutils literal"><span class="pre">collections</span></code></li>
<li>Related third party imports, i.e., anything non-nupic that we would have to add to <code class="docutils literal"><span class="pre">external/common/requirements.txt</span></code></li>
<li>NuPIC imports (only if in a non-nupic repository)</li>
<li>Local imports (other packages from current repository)</li>
</ol>
<p>Within each group the imports should be ordered alphabetically. There should be a blank line between each group of imports.</p>
</div>
</div>
<div class="section" id="quotes">
<span id="quotes"></span><h3>Quotes<a class="headerlink" href="#quotes" title="Permalink to this headline">¶</a></h3>
<p>By default, double quotes should be used for all strings.</p>
</div>
<div class="section" id="spaces">
<span id="spaces"></span><h3>Spaces<a class="headerlink" href="#spaces" title="Permalink to this headline">¶</a></h3>
<p>Do not leave trailing whitespace on non-blank lines.</p>
<p>For loosely-binding arithmetic operators (+, -), use surrounding spaces.</p>
<p>For tightly-binding ones (*, /, and **), you may omit the spaces.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="n">submitted</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">submitted</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">hypot2</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="compound-statements">
<span id="compound-statements"></span><h3>Compound Statements<a class="headerlink" href="#compound-statements" title="Permalink to this headline">¶</a></h3>
<p>Do not use compound statements.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">foo</span><span class="p">:</span> <span class="k">print</span> <span class="n">foo</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">foo</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">foo</span>
</pre></div>
</div>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">foo</span><span class="p">;</span> <span class="k">print</span> <span class="n">x</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">foo</span>
<span class="k">print</span> <span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="docstrings">
<span id="docstrings"></span><h2>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h2>
<p>Numenta&#8217;s guidelines for <em>where</em> to use docstrings are the same as in PEP-257.</p>
<p>Numenta&#8217;s guidelines for <em>content and format</em> of docstrings is defined in
<a class="reference external" href="https://github.com/numenta/nupic/tree/master/docs"><code class="docutils literal"><span class="pre">docs</span></code></a>.</p>
</div>
<div class="section" id="comments">
<span id="comments"></span><h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h2>
<div class="section" id="purpose-of-comments">
<span id="purpose-of-comments"></span><h3>Purpose of Comments<a class="headerlink" href="#purpose-of-comments" title="Permalink to this headline">¶</a></h3>
<p>Comments are for describing <strong>why</strong>, not what.  Favor <strong>structure</strong> over commentary.</p>
<p>If your comment says &#8220;the next n lines do y,&#8221; then remove it and make those next n lines a new (unit-testable) function.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">#-------------------------------</span>
<span class="c1"># first, flurblize the glambuz</span>
<span class="o">...</span> <span class="n">code</span> <span class="o">...</span>

<span class="c1">#-------------------------------</span>
<span class="c1"># then, deblurflize the buzglam</span>
<span class="o">...</span> <span class="n">even</span> <span class="n">more</span> <span class="n">code</span> <span class="o">...</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">flurblize</span><span class="p">(</span><span class="n">glambuz</span><span class="p">):</span>
   <span class="o">...</span> <span class="n">code</span> <span class="o">...</span>

<span class="k">def</span> <span class="nf">deblurflize</span><span class="p">(</span><span class="n">buzglam</span><span class="p">):</span>
   <span class="o">...</span> <span class="n">code</span> <span class="o">...</span>

<span class="n">flurblize</span><span class="p">(</span><span class="n">glambuz</span><span class="p">)</span>
<span class="n">deblurflize</span><span class="p">(</span><span class="n">buzglam</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="commented-sections">
<span id="commented-sections"></span><h3>Commented Sections<a class="headerlink" href="#commented-sections" title="Permalink to this headline">¶</a></h3>
<p>Separate commented sections with a blank line.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># This comment applies to the next two lines.</span>
<span class="n">foo</span><span class="p">()</span>
<span class="n">bar</span><span class="p">()</span>
<span class="c1"># This is another comment.</span>
<span class="n">baz</span><span class="p">()</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># This comment applies to the next two lines.</span>
<span class="n">foo</span><span class="p">()</span>
<span class="n">bar</span><span class="p">()</span>

<span class="c1"># This is another comment.</span>
<span class="n">baz</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="inline-comments">
<span id="inline-comments"></span><h3>Inline Comments<a class="headerlink" href="#inline-comments" title="Permalink to this headline">¶</a></h3>
<p>Do not use a comments on the same line as a statement/expession.  It&#8217;s hard to read.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># Compensate for border</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Compensate for border.</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="comments-in-if-else-blocks">
<span id="comments-in-if-else-blocks"></span><h3>Comments in if/else blocks<a class="headerlink" href="#comments-in-if-else-blocks" title="Permalink to this headline">¶</a></h3>
<p>Put comments which describe the predicate <em>inside</em> the block itself.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># User selected &quot;Other&quot;</span>
<span class="k">if</span> <span class="n">radioIndex</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intervals</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">intervalOther</span><span class="o">.</span><span class="n">SetFocus</span><span class="p">()</span>
<span class="c1"># User selected one of the pre-defined intervals</span>
<span class="k">else</span><span class="p">:</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intervals</span><span class="p">[</span><span class="n">radioIndex</span><span class="p">])</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">radioIndex</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intervals</span><span class="p">):</span>
  <span class="c1"># User selected &quot;Other&quot;</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">intervalOther</span><span class="o">.</span><span class="n">SetFocus</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
  <span class="c1"># User selected one of the pre-defined intervals</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">interval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">intervals</span><span class="p">[</span><span class="n">radioIndex</span><span class="p">])</span>
</pre></div>
</div>
<p>In contrast, put comments which describe the context for the entire if/else section before the if.</p>
</div>
</div>
<div class="section" id="naming-conventions">
<span id="naming-conventions"></span><h2>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="directory-and-file-names">
<span id="directory-and-file-names"></span><h3>Directory and File Names<a class="headerlink" href="#directory-and-file-names" title="Permalink to this headline">¶</a></h3>
<p>Make directories (packages) and files (modules) snake_cased &#8211; i.e. lowercase letters with an underscore for separating words.  ASCII only.  Shorter is better.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># directory layout</span>
<span class="n">production</span><span class="o">/</span>
  <span class="n">ProductionWorker</span><span class="o">.</span><span class="n">py</span>
  <span class="n">productionJobParamsSchema</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># code</span>
<span class="kn">from</span> <span class="nn">nupic.cluster.production.ProductionWorker</span> <span class="kn">import</span> <span class="n">ProductionWorker</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># directory layout</span>
<span class="n">production</span><span class="o">/</span>
  <span class="n">production_worker</span><span class="o">.</span><span class="n">py</span>
  <span class="n">production_job_params_schema</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># code</span>
<span class="kn">from</span> <span class="nn">nupic.cluster.production.production_worker</span> <span class="kn">import</span> <span class="n">ProductionWorker</span>
</pre></div>
</div>
<p>Include the suffix &#8221;.py&#8221; on all Python modules.  Exception: &#8221;.pyw&#8221; for modules to be launched from a graphical shell.</p>
</div>
<div class="section" id="function-method-and-instance-variable-names">
<span id="function-method-and-instance-variable-names"></span><h3>Function, Method, and Instance Variable Names<a class="headerlink" href="#function-method-and-instance-variable-names" title="Permalink to this headline">¶</a></h3>
<p>Give functions, methods, and instance variables names in camelCase.</p>
<p>For non-public attributes, add a leading underscore.  Whether just one (<code class="docutils literal"><span class="pre">_</span></code>) or two (<code class="docutils literal"><span class="pre">__</span></code>) is an interesting question.</p>
<p>Using just one (<code class="docutils literal"><span class="pre">_</span></code>) has two benefits:</p>
<ul class="simple">
<li>it&#8217;s the most wide-spread convention</li>
<li>unit tests can easily access those methods</li>
</ul>
<p>On the other hand, using two (<code class="docutils literal"><span class="pre">__</span></code>) is useful for inheritance.  Names with this prefix (but <em>without</em> that suffix) evoke name mangling, making them appropriately difficult to access from outside the class.  So attributes meant to be truly private (and not merely protected) will be immune to accidental overwriting by subclasses.</p>
<p><strong>You should not access mangled attribute names outside the class.</strong></p>
</div>
<div class="section" id="module-global-variables">
<span id="module-global-variables"></span><h3>Module-global Variables<a class="headerlink" href="#module-global-variables" title="Permalink to this headline">¶</a></h3>
<p>Give module-level &#8220;constants&#8221; SHOUT_CASE names.  If non-public, include a leading underscore.</p>
<p>Give module-level (actual) variables the prefix &#8220;g_&#8221;, to indicate &#8220;global&#8221;.  (These should never be public, so there&#8217;s no need to include a leading underscore to distinguish public from non-public.)</p>
</div>
<div class="section" id="dummy-names">
<span id="dummy-names"></span><h3>Dummy Names<a class="headerlink" href="#dummy-names" title="Permalink to this headline">¶</a></h3>
<p>&#8220;Dummy&#8221; variables are ones required but unused.  For example, you may need to supply a callback not all of whose arguments you need.  Or you call a function that returns multiple values, but you don&#8217;t use them all.</p>
<p>Give dummy variables a leading underscore.</p>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">_port</span><span class="p">)</span> <span class="o">=</span> <span class="n">getHostnameAndPort</span><span class="p">()</span>
<span class="c1"># _port is unused</span>
<span class="k">print</span> <span class="n">hostname</span>
</pre></div>
</div>
<p>Or, use just an underscore.</p>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">getHostnameAndPort</span><span class="p">()</span>
<span class="c1"># _ is unused</span>
<span class="k">print</span> <span class="n">hostname</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="interfacing-with-third-party-code">
<span id="interfacing-with-third-party-code"></span><h2>Interfacing with third party code<a class="headerlink" href="#interfacing-with-third-party-code" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we use code with naming conventions that differ from Numenta&#8217;s.  For example, wxPython requires one to use its naming conventions (to subclass its classes and provide event handlers).</p>
<p>In this case, hide these convention conflicts in a helper class.  The helper should encapsulate the use of the third-party code, do the heavy lifting, and expose only Numenta-style names.</p>
</div>
<div class="section" id="programming-guidelines">
<span id="programming-guidelines"></span><h2>Programming Guidelines<a class="headerlink" href="#programming-guidelines" title="Permalink to this headline">¶</a></h2>
<div class="section" id="testable-code">
<span id="testable-code"></span><h3>Testable Code<a class="headerlink" href="#testable-code" title="Permalink to this headline">¶</a></h3>
<p>Make your units small.  Design for testability.</p>
</div>
<div class="section" id="stay-dry">
<span id="stay-dry"></span><h3>Stay DRY<a class="headerlink" href="#stay-dry" title="Permalink to this headline">¶</a></h3>
<p>DRY stands for &#8220;don&#8217;t repeat yourself&#8221;.  Do not copy-and-paste.</p>
<p>Rather than copy-and-paste, make a new, parametrized function.</p>
</div>
<div class="section" id="classes">
<span id="classes"></span><h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<p>Use only new-style classes &#8211; those which subclass object, directly or indirectly.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="data-member-initialization">
<span id="data-member-initialization"></span><h3>Data Member Initialization<a class="headerlink" href="#data-member-initialization" title="Permalink to this headline">¶</a></h3>
<p>Initialize all members in <code class="docutils literal"><span class="pre">__init__</span></code>, even if simply to None.  This serves to declare what all instance variables are in use.  Do not create attributes outside of <code class="docutils literal"><span class="pre">__init__</span></code>.</p>
<p>No:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="k">pass</span>


<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foo</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">_foo</span> <span class="o">=</span> <span class="n">foo</span>
</pre></div>
</div>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">_foo</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">foo</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">_foo</span> <span class="o">=</span> <span class="n">foo</span>
</pre></div>
</div>
</div>
<div class="section" id="properties">
<span id="properties"></span><h3>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<p>Do not use properties unless necessary.  If you must:</p>
<ul class="simple">
<li>Declare them immediately after <code class="docutils literal"><span class="pre">__init__</span></code>.</li>
<li>Document why, right before the definition.</li>
</ul>
<p>Yes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># coincidenceCount is a property because it&#39;s:</span>
<span class="c1">#   - computed and</span>
<span class="c1">#   - read-only</span>
<span class="nd">@property</span>
<span class="n">coincidenceCount</span><span class="p">(</span><span class="n">_getCoincidenceCount</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                 <span class="bp">None</span><span class="p">,</span> <span class="s2">&quot;Number of coincidences&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_getCoincidenceCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">coincidences</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="list-comprehensions">
<span id="list-comprehensions"></span><h3>List Comprehensions<a class="headerlink" href="#list-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>Use list comprehensions instead of map, filter, and reduce.  In Python, list comprehensions are highly optimized.  HOFs are deprecated.</p>
</div>
<div class="section" id="string-formatting">
<span id="string-formatting"></span><h3>String Formatting<a class="headerlink" href="#string-formatting" title="Permalink to this headline">¶</a></h3>
<p>Use the <code class="docutils literal"><span class="pre">str.format</span></code> method.</p>
<p>Good:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;Category = {cat}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cat</span><span class="o">=</span><span class="n">categoryOut</span><span class="p">)</span>
</pre></div>
</div>
<p>Bad:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="s2">&quot;Category = </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">categoryOut</span>
</pre></div>
</div>
</div>
<div class="section" id="enums">
<span id="enums"></span><h3>Enums<a class="headerlink" href="#enums" title="Permalink to this headline">¶</a></h3>
<p>Use the <code class="docutils literal"><span class="pre">enum.Enum</span></code> class provided by the <a class="reference external" href="https://pypi.python.org/pypi/enum34">enum34</a> package.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/numenta-logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">NuPIC</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=numenta&repo=nupic&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick-start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Python Style Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-version">Python Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pylint">Pylint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-layout">File Layout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#executables">Executables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#legal-notice">Legal Notice</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-docstring">Module Docstring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tests">Tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#coding-style">Coding Style</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#indentation">Indentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#blank-lines">Blank Lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="#imports">Imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quotes">Quotes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#spaces">Spaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compound-statements">Compound Statements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#docstrings">Docstrings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comments">Comments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#purpose-of-comments">Purpose of Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commented-sections">Commented Sections</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inline-comments">Inline Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comments-in-if-else-blocks">Comments in if/else blocks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#naming-conventions">Naming Conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#directory-and-file-names">Directory and File Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-method-and-instance-variable-names">Function, Method, and Instance Variable Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-global-variables">Module-global Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dummy-names">Dummy Names</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interfacing-with-third-party-code">Interfacing with third party code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#programming-guidelines">Programming Guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#testable-code">Testable Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stay-dry">Stay DRY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-member-initialization">Data Member Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-comprehensions">List Comprehensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#string-formatting">String Formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enums">Enums</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cpp-style-guide.html">C++ Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmake-style-guide.html">CMake Style Guide</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Numenta.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/contributing/python-style-guide.md.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/numenta/nupic" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>