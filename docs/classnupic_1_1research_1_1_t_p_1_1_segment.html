<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>NuPIC: nupic.research.TP.Segment Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NuPIC
   </div>
   <div id="projectbrief">Numenta Platform for Intelligent Computing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>nupic</b></li><li class="navelem"><b>research</b></li><li class="navelem"><b>TP</b></li><li class="navelem"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html">Segment</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnupic_1_1research_1_1_t_p_1_1_segment-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nupic.research.TP.Segment Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html" title="The Segment class is a container for all of the segment variables and the synapses it owns...">Segment</a> class is a container for all of the segment variables and the synapses it owns.  
 <a href="classnupic_1_1research_1_1_t_p_1_1_segment.html#details">More...</a></p>

<p>Inherits object.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a837551aa80adb16d9e318b8ac43a530f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html#a837551aa80adb16d9e318b8ac43a530f">dutyCycle</a></td></tr>
<tr class="memdesc:a837551aa80adb16d9e318b8ac43a530f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute/update and return the positive activations duty cycle of this segment.  <a href="#a837551aa80adb16d9e318b8ac43a530f"></a><br/></td></tr>
<tr class="separator:a837551aa80adb16d9e318b8ac43a530f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61fcbf5e56a3fbe2b9abb1983856d62"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html#ab61fcbf5e56a3fbe2b9abb1983856d62">debugPrint</a></td></tr>
<tr class="memdesc:ab61fcbf5e56a3fbe2b9abb1983856d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print segment information for verbose messaging and debugging.  <a href="#ab61fcbf5e56a3fbe2b9abb1983856d62"></a><br/></td></tr>
<tr class="separator:ab61fcbf5e56a3fbe2b9abb1983856d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcd5284da48af71e3df9b403eb0c47f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html#acbcd5284da48af71e3df9b403eb0c47f">freeNSynapses</a></td></tr>
<tr class="memdesc:acbcd5284da48af71e3df9b403eb0c47f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free up some synapses in this segment.  <a href="#acbcd5284da48af71e3df9b403eb0c47f"></a><br/></td></tr>
<tr class="separator:acbcd5284da48af71e3df9b403eb0c47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3745bc7b30b6cfc8a8a41b9984cb8f5f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html#a3745bc7b30b6cfc8a8a41b9984cb8f5f">addSynapse</a></td></tr>
<tr class="memdesc:a3745bc7b30b6cfc8a8a41b9984cb8f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new synapse.  <a href="#a3745bc7b30b6cfc8a8a41b9984cb8f5f"></a><br/></td></tr>
<tr class="separator:a3745bc7b30b6cfc8a8a41b9984cb8f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86ed414c274376266ab5f1b4c378814"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html#ad86ed414c274376266ab5f1b4c378814">updateSynapses</a></td></tr>
<tr class="memdesc:ad86ed414c274376266ab5f1b4c378814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a set of synapses in the segment.  <a href="#ad86ed414c274376266ab5f1b4c378814"></a><br/></td></tr>
<tr class="separator:ad86ed414c274376266ab5f1b4c378814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classnupic_1_1research_1_1_t_p_1_1_segment.html" title="The Segment class is a container for all of the segment variables and the synapses it owns...">Segment</a> class is a container for all of the segment variables and the synapses it owns. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3745bc7b30b6cfc8a8a41b9984cb8f5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def nupic.research.TP.Segment.addSynapse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>srcCellCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>srcCellIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>perm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new synapse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcCellCol</td><td>source cell column </td></tr>
    <tr><td class="paramname">srcCellIdx</td><td>source cell index within the column </td></tr>
    <tr><td class="paramname">perm</td><td>initial permanence </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab61fcbf5e56a3fbe2b9abb1983856d62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def nupic.research.TP.Segment.debugPrint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print segment information for verbose messaging and debugging. </p>
<p>This uses the following format:</p>
<p>ID:54413 True 0.64801 (24/36) 101 [9,1]0.75 [10,1]0.75 [11,1]0.75</p>
<p>where: 54413 - is the unique segment id True - is sequence segment 0.64801 - moving average duty cycle (24/36) - (numPositiveActivations / numTotalActivations) 101 - age, number of iterations since last activated [9,1]0.75 - synapse from column 9, cell #1, strength 0.75 [10,1]0.75 - synapse from column 10, cell #1, strength 0.75 [11,1]0.75 - synapse from column 11, cell #1, strength 0.75 </p>

</div>
</div>
<a class="anchor" id="a837551aa80adb16d9e318b8ac43a530f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def nupic.research.TP.Segment.dutyCycle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>active</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>readOnly</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute/update and return the positive activations duty cycle of this segment. </p>
<p>This is a measure of how often this segment is providing good predictions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">active</td><td>True if segment just provided a good prediction </td></tr>
    <tr><td class="paramname">readOnly</td><td>If True, compute the updated duty cycle, but don't change the cached value. This is used by debugging print statements.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: This method relies on different schemes to compute the duty cycle based on how much history we have. In order to support this tiered approach IT MUST BE CALLED ON EVERY SEGMENT AT EACH DUTY CYCLE TIER (self.dutyCycleTiers)</p>
<p>When we don't have a lot of history yet (first tier), we simply return number of positive activations / total number of iterations</p>
<p>After a certain number of iterations have accumulated, it converts into a moving average calcuation, which is updated only when requested since it can be a bit expensive to compute on every iteration (it uses the pow() function).</p>
<p>The duty cycle is computed as follows: </p>
<pre class="fragment">dc[t] = (1-alpha) * dc[t-1] + alpha * value[t]
</pre><p>If the value[t] has been 0 for a number of steps in a row, you can apply all of the updates at once using: </p>
<pre class="fragment">dc[t] = (1-alpha)^(t-lastT) * dc[lastT]
</pre><p>We use the alphas and tiers as defined in self.dutyCycleAlphas and self.dutyCycleTiers. </p>

</div>
</div>
<a class="anchor" id="acbcd5284da48af71e3df9b403eb0c47f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def nupic.research.TP.Segment.freeNSynapses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>numToFree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inactiveSynapseIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbosity</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free up some synapses in this segment. </p>
<p>We always free up inactive synapses (lowest permanence freed up first) before we start to free up active ones.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numToFree</td><td>number of synapses to free up </td></tr>
    <tr><td class="paramname">inactiveSynapseIndices</td><td>list of the inactive synapse indices. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad86ed414c274376266ab5f1b4c378814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def nupic.research.TP.Segment.updateSynapses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>synapses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a set of synapses in the segment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>The owner <a class="el" href="classnupic_1_1research_1_1_t_p_1_1_t_p.html" title="Class implementing the temporal pooler algorithm as described in the published Cortical Learning Algo...">TP</a> </td></tr>
    <tr><td class="paramname">synapses</td><td>List of synapse indices to update </td></tr>
    <tr><td class="paramname">delta</td><td>How much to add to each permanence</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if synapse reached 0 </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>py/nupic/research/<a class="el" href="_t_p_8py.html">TP.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Dec 10 2013 16:54:24 for NuPIC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
